(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);a(63),a(88);var o=a(0),r=a.n(o),n=a(33),c=a.n(n),s=a(19),l=a.n(s),i=a(57),u=a(58),m=a(60),p=a(59),d=a(61),f=a(1),g=(a(110),function(e){var t=e.id,a=e.go,o=e.fetchedUser;return r.a.createElement(f.Panel,{id:t},r.a.createElement(f.PanelHeader,null,"Example"),o&&r.a.createElement(f.Group,{title:"User Data Fetched with VK Connect"},r.a.createElement(f.ListItem,{before:o.photo_200?r.a.createElement(f.Avatar,{src:o.photo_200}):null,description:o.city&&o.city.title?o.city.title:""},"".concat(o.first_name," ").concat(o.last_name))),r.a.createElement(f.Group,{title:"Navigation Example"},r.a.createElement(f.Div,null,r.a.createElement(f.Button,{size:"xl",level:"2",onClick:a,"data-to":"persik"},"Show me the Persik, please"))),r.a.createElement(f.Group,{title:"Navigation Example"},r.a.createElement(f.Div,null,r.a.createElement(f.Button,{size:"xl",level:"2",onClick:a,"data-to":"default"},"Show me the Persik, please"))))}),h=a(34),b=a(16),S=a(18),v=a.n(S),E=(a(111),function(e){var t=Object(o.useState)(JSON.parse(localStorage.getItem("items"))),a=Object(b.a)(t,2),n=a[0],c=a[1],s=Object(o.useState)(JSON.parse(localStorage.getItem("prices"))),l=Object(b.a)(s,2),i=l[0],u=l[1],m=Object(o.useState)(JSON.parse(localStorage.getItem("data"))),p=Object(b.a)(m,2),d=p[0],g=p[1],S=function(e,t){localStorage.setItem("".concat(e),JSON.stringify(t))},E={phone:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",notebook:"\u041d\u043e\u0443\u0442\u0431\u0443\u043a",pc:"\u041a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440",office:"\u041e\u0444\u0438\u0441",farm:"\u0424\u0435\u0440\u043c\u0430",factory:"\u0417\u0430\u0432\u043e\u0434",mine:"\u0428\u0430\u0445\u0442\u0430",skyscrapper:"\u041d\u0435\u0431\u043e\u0441\u043a\u0440\u0451\u0431",island:"\u041e\u0441\u0442\u0440\u043e\u0432",country:"\u0421\u0442\u0440\u0430\u043d\u0430",planet:"\u041f\u043b\u0430\u043d\u0435\u0442\u0430",solarSystem:"\u0421\u043e\u043b\u043d\u0435\u0447\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430",cosmos:"\u041a\u043e\u0441\u043c\u043e\u0441"};return r.a.createElement(f.Panel,{id:e.id},r.a.createElement(f.PanelHeader,{theme:"sekki",left:r.a.createElement(f.HeaderButton,null,r.a.createElement(v.a,{onClick:e.go,"data-to":"default"})," ")},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),r.a.createElement(f.Group,null,r.a.createElement(f.Div,{className:"shop-score"},Math.round(e.score))),Object.keys(n).map(function(t){return r.a.createElement(f.Group,{key:t},r.a.createElement(f.Div,{onClick:function(){return function(t){e.score-i[t].price>=0&&(e.add(-i[t].price),c(Object.assign(n,Object(h.a)({},t,n[t]+1))),u(Object.assign(i,Object(h.a)({},t,Object.assign(i[t],{price:Math.round(1.1*i[t].price)})))),g(Object.assign(d,{auto:d.auto+i[t].boost})),S("items",n),S("prices",i),S("data",d))}(t)},className:"shop-item"},r.a.createElement("h4",null,E[t])," ",r.a.createElement("p",null,"\u0426\u0435\u043d\u0430: ",i[t].price," | \u041a\u043e\u043b-\u0432\u043e: ",n[t]," | +",i[t].boost,"/\u0441 ")))}))}),k=(a(112),function(e){var t=e.data;return function(){var t=JSON.stringify(e.score).split(""),a=t.length;if(a>3)if(a%3===0){if(a>5)return t[0]+t[1]+t[2]+"."+t[3]+t[4]+t[5];if(5===a)return t[0]+t[1]+"."+t[2]+t[3]+t[4];if(4===a)t[0],t[1],t[2],t[3]}else if(a>5)(function(e){for(var a="",o=0;o<e-1;o++)a+=t[o]})(3*Math.floor(a/3))}(),r.a.createElement(f.Panel,{id:e.id,theme:"white"},r.a.createElement(f.PanelHeader,{theme:"sekki"},"\u041a\u043b\u0438\u043a\u0435\u0440(0.0.6)"),r.a.createElement(f.Div,{className:"button-block"},r.a.createElement("button",{stretched:!0,onClick:e.go,"data-to":"shop",style:{marginRight:8}},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),r.a.createElement("button",{stretched:!0,onClick:e.go,"data-to":"upgrades",style:{marginRight:8}},"\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f"),r.a.createElement("button",{stretched:!0,onClick:e.go,"data-to":"settings"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438")),r.a.createElement(f.Div,null,r.a.createElement(f.Div,{className:"score-container"},r.a.createElement("p",null,Math.round(e.score)," #")),r.a.createElement(f.Div,{className:"button-container"},r.a.createElement("button",{className:"button-click",onClick:function(){e.add(t.perClick)}},r.a.createElement("h1",null,"H+"),r.a.createElement("span",null,null!==t?t.auto:null," / \u0441\u0435\u043a")))))}),y=function(e){var t=Object(o.useState)(""),a=Object(b.a)(t,2),n=a[0],c=a[1],s=function(){var t=function(e){var t=JSON.parse(localStorage.getItem("codes")),a=!1;return t.map(function(o,r){o.value===e&&!1===o.used&&(t[r].used=!0,console.log("here"),localStorage.setItem("codes",JSON.stringify(t)),a=o)}),a}(n).hashes;void 0!==t&&e.add(t)};return r.a.createElement(f.Panel,{id:e.id},r.a.createElement(f.PanelHeader,{theme:"sekki",left:r.a.createElement(f.HeaderButton,null,r.a.createElement(v.a,{onClick:e.go,"data-to":"default"})," ")},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement(f.Group,null,r.a.createElement(f.Div,null,r.a.createElement(f.FormLayoutGroup,{top:"\u041f\u0440\u043e\u043c\u043e-\u043a\u043e\u0434"},r.a.createElement(f.Input,{type:"text",defaultValue:n,onChange:function(e){return c(e.target.value)}}),r.a.createElement(f.Button,{size:"xl",onClick:function(){return s()}},"\u0412\u0432\u0435\u0441\u0442\u0438 \u043f\u0440\u043e\u043c\u043e-\u043a\u043e\u0434"))),r.a.createElement(f.Div,null,r.a.createElement("button",{onClick:function(){return e.reset()}},r.a.createElement("h1",null,"\u0421\u0431\u0440\u043e\u0441")))))},I=function(){localStorage.setItem("score",0),localStorage.setItem("items",JSON.stringify({phone:0,notebook:0,pc:0,office:0,farm:0,factory:0,mine:0,skyscrapper:0,island:0,country:0,planet:0,solarSystem:0,cosmos:0})),localStorage.setItem("prices",JSON.stringify({phone:{price:100,boost:2},notebook:{price:500,boost:10},pc:{price:2e3,boost:100},office:{price:1e4,boost:500},farm:{price:5e5,boost:2e3},factory:{price:2e6,boost:1e4},mine:{price:1e7,boost:1e5},skyscrapper:{price:1e8,boost:5e5},island:{price:25e7,boost:25e5},country:{price:1e9,boost:5e7},planet:{price:5e9,boost:1e8},solarSystem:{price:25e9,boost:5e8},cosmos:{price:99999999999,boost:9999999999}})),localStorage.setItem("data",JSON.stringify({auto:0,perClick:1})),localStorage.setItem("codes",JSON.stringify([{value:"2019",hashes:1e6,used:!1},{value:"sekki",hashes:1e8,used:!1},{value:"vkapp2019",hashes:1e8,used:!1}]))},O=function(){return null!==localStorage.getItem("score")?localStorage.getItem("score"):void 0},N=function(){return null!==localStorage.getItem("items")?localStorage.getItem("items"):void 0},J=function(){return null!==localStorage.getItem("prices")?localStorage.getItem("prices"):void 0},j=function(){return null!==localStorage.getItem("data")?localStorage.getItem("data"):void 0},C=function(){return null!==localStorage.getItem("codes")?localStorage.getItem("codes"):void 0},P=function(e){return"number"===typeof e},w=function(e){return"object"===typeof e};a(113);void 0!==O()&&0!==parseInt(O())&&P(parseInt(O()))||localStorage.setItem("score",0),void 0!==N()&&w(JSON.parse(N()))||localStorage.setItem("items",JSON.stringify({phone:0,notebook:0,pc:0,office:0,farm:0,factory:0,mine:0,skyscrapper:0,island:0,country:0,planet:0,solarSystem:0,cosmos:0})),void 0!==J()&&w(JSON.parse(J()))||localStorage.setItem("prices",JSON.stringify({phone:{price:100,boost:2},notebook:{price:500,boost:10},pc:{price:2e3,boost:100},office:{price:1e4,boost:500},farm:{price:5e5,boost:2e3},factory:{price:2e6,boost:1e4},mine:{price:1e7,boost:1e5},skyscrapper:{price:1e8,boost:5e5},island:{price:25e7,boost:25e5},country:{price:1e9,boost:5e7},planet:{price:5e9,boost:1e8},solarSystem:{price:25e9,boost:5e8},cosmos:{price:99999999999,boost:9999999999}})),void 0!==j()&&w(JSON.parse(j()))||localStorage.setItem("data",JSON.stringify({auto:0,perClick:1})),void 0!==C()&&w(JSON.parse(C()))||localStorage.setItem("codes",JSON.stringify([{value:"2019",hashes:1e6,used:!1},{value:"sekki",hashes:1e8,used:!1},{value:"vkapp2019",hashes:1e8,used:!1}]));var D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).tick=function(){a.auto=setInterval(function(){a.add(a.state.data.auto/a.state.speed)},1e3/a.state.speed)},a.add=function(e){"object"!==typeof score&&(localStorage.setItem("score",a.state.score+e),a.setState({data:JSON.parse(localStorage.getItem("data")),score:a.state.score+e}))},a.fromScratch=function(){clearInterval(a.auto),I(),a.setState({score:0,data:{auto:0,perClick:1}}),a.tick()},a.go=function(e){a.setState({activePanel:e.currentTarget.dataset.to})},a.auto=void 0,a.state={activePanel:"default",fetchedUser:null,score:parseInt(localStorage.getItem("score")),data:JSON.parse(localStorage.getItem("data")),timer:!1,speed:1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;l.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data});break;default:console.log(t.detail.type)}}),l.a.send("VKWebAppGetUserInfo",{}),this.tick()}},{key:"componentWillUnmount",value:function(){return function(){clearInterval(this.auto)}}},{key:"render",value:function(){return r.a.createElement(f.View,{activePanel:this.state.activePanel},r.a.createElement(g,{id:"home",fetchedUser:this.state.fetchedUser,go:this.go}),r.a.createElement(E,{id:"shop",add:this.add,score:this.state.score,go:this.go}),r.a.createElement(k,{id:"default",add:this.add,data:this.state.data,score:this.state.score,go:this.go}),r.a.createElement(y,{id:"settings",add:this.add,reset:this.fromScratch,score:this.state.score,go:this.go}))}}]),t}(r.a.Component);l.a.send("VKWebAppInit",{}),c.a.render(r.a.createElement(D,null),document.getElementById("root"))},62:function(e,t,a){e.exports=a(114)}},[[62,1,2]]]);
//# sourceMappingURL=main.58373d12.chunk.js.map