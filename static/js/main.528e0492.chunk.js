(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);a(62),a(87);var n=a(0),r=a.n(n),o=a(32),l=a.n(o),c=a(17),i=a.n(c),s=a(56),u=a(57),m=a(59),d=a(58),p=a(60),f=a(1),g=(a(110),function(e){var t=e.id,a=e.go,n=e.fetchedUser;return r.a.createElement(f.Panel,{id:t},r.a.createElement(f.PanelHeader,null,"Example"),n&&r.a.createElement(f.Group,{title:"User Data Fetched with VK Connect"},r.a.createElement(f.ListItem,{before:n.photo_200?r.a.createElement(f.Avatar,{src:n.photo_200}):null,description:n.city&&n.city.title?n.city.title:""},"".concat(n.first_name," ").concat(n.last_name))),r.a.createElement(f.Group,{title:"Navigation Example"},r.a.createElement(f.Div,null,r.a.createElement(f.Button,{size:"xl",level:"2",onClick:a,"data-to":"persik"},"Show me the Persik, please"))),r.a.createElement(f.Group,{title:"Navigation Example"},r.a.createElement(f.Div,null,r.a.createElement(f.Button,{size:"xl",level:"2",onClick:a,"data-to":"default"},"Show me the Persik, please"))))}),E=a(33),h=a(22),b=(a(111),function(e){var t=Object(n.useState)(JSON.parse(localStorage.getItem("items"))),a=Object(h.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(JSON.parse(localStorage.getItem("prices"))),i=Object(h.a)(c,2),s=i[0],u=i[1],m=Object(n.useState)(JSON.parse(localStorage.getItem("data"))),d=Object(h.a)(m,2),p=d[0],g=d[1],b={farm:"\u0424\u0435\u0440\u043c\u0430",factory:"\u0424\u0430\u0431\u0440\u0438\u043a\u0430",mine:"\u0428\u0430\u0445\u0442\u0430",country:"\u0421\u0442\u0440\u0430\u043d\u0430"};return r.a.createElement(f.Panel,{id:e.id},r.a.createElement(f.PanelHeader,null,"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),r.a.createElement(f.Group,null,r.a.createElement(f.Div,{className:"shop-score"},e.score)),Object.keys(o).map(function(t){return r.a.createElement(f.Group,{key:t},r.a.createElement(f.Div,{onClick:function(){return function(t){e.score-s[t].price>=0&&(e.add(-s[t].price),l(Object.assign(o,Object(E.a)({},t,o[t]+1))),u(Object.assign(s,Object(E.a)({},t,Object.assign(s[t],{price:Math.round(1.1*s[t].price)})))),g(Object.assign(p,{auto:p.auto+s[t].boost})),localStorage.setItem("items",JSON.stringify(o)),localStorage.setItem("prices",JSON.stringify(s)),localStorage.setItem("data",JSON.stringify(p)))}(t)},className:"shop-item"},r.a.createElement("h4",null,b[t])," ",r.a.createElement("p",null,"\u0426\u0435\u043d\u0430: ",s[t].price," | \u041a\u043e\u043b-\u0432\u043e: ",o[t]," | +",s[t].boost,"/\u0441 ")))}))}),v=(a(112),function(e){var t=e.data;return function(){var t=JSON.stringify(e.score).split(""),a=t.length;if(a>3)if(a%3===0){if(a>5)return t[0]+t[1]+t[2]+"."+t[3]+t[4]+t[5];if(5===a)return t[0]+t[1]+"."+t[2]+t[3]+t[4];if(4===a)t[0],t[1],t[2],t[3]}else if(a>5)(function(e){for(var a="",n=0;n<e-1;n++)a+=t[n]})(3*Math.floor(a/3))}(),r.a.createElement(f.Panel,{id:e.id},r.a.createElement(f.PanelHeader,null,"Clicker"),r.a.createElement(f.Group,null,r.a.createElement(f.Div,{className:"score-container"},r.a.createElement("p",null,e.score,"#"))),r.a.createElement(f.Group,null,r.a.createElement(f.Div,{className:"button-container"},r.a.createElement("button",{className:"button-click",onClick:function(){e.add(t.perClick)}},r.a.createElement("h1",null,"H+"),r.a.createElement("span",null,t.auto," / \u0441\u0435\u043a"))),r.a.createElement(f.Div,null,r.a.createElement("button",{onClick:function(){e.add(-e.score)}},r.a.createElement("h1",null,"\u0421\u0431\u0440\u043e\u0441")))))}),S=function(e){return r.a.createElement(f.Panel,{id:e.id},r.a.createElement(f.PanelHeader,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement(f.Group,null,r.a.createElement(f.Div,null,r.a.createElement(f.FormLayoutGroup,{top:"\u041f\u0440\u043e\u043c\u043e-\u043a\u043e\u0434"},r.a.createElement(f.Input,{type:"text",defaultValue:""}),r.a.createElement(f.Button,{size:"xl",onClick:function(){console.log("yes")}},"\u0412\u0432\u0435\u0441\u0442\u0438 \u043f\u0440\u043e\u043c\u043e-\u043a\u043e\u0434")))))},I=function(){void 0!==O()&&0!==parseInt(O())&&j(parseInt(O()))||localStorage.setItem("score",0),void 0!==y()&&J(JSON.parse(y()))||localStorage.setItem("items",JSON.stringify({farm:0,factory:0,mine:0,country:0})),void 0!==k()&&J(JSON.parse(k()))||localStorage.setItem("prices",JSON.stringify({farm:{price:100,boost:2},factory:{price:500,boost:10},mine:{price:2e3,boost:100},country:{price:1e4,boost:500}})),void 0!==N()&&J(JSON.parse(N()))||localStorage.setItem("data",JSON.stringify({auto:0,perClick:1}))},O=function(){return null!==localStorage.getItem("score")?localStorage.getItem("score"):void 0},y=function(){return null!==localStorage.getItem("items")?localStorage.getItem("items"):void 0},k=function(){return null!==localStorage.getItem("prices")?localStorage.getItem("prices"):void 0},N=function(){return null!==localStorage.getItem("data")?localStorage.getItem("data"):void 0},j=function(e){return"number"===typeof e},J=function(e){return"object"===typeof e},P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).add=function(e){"object"!==typeof score&&(localStorage.setItem("score",a.state.score+e),a.setState({data:JSON.parse(localStorage.getItem("data")),score:a.state.score+e}))},a.go=function(e){a.setState({activePanel:e.currentTarget.dataset.to})},a.auto=void 0,a.state={activePanel:"default",fetchedUser:null,score:parseInt(localStorage.getItem("score")),data:JSON.parse(localStorage.getItem("data")),timer:!1},I(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;i.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data});break;default:console.log(t.detail.type)}}),i.a.send("VKWebAppGetUserInfo",{}),this.auto=setInterval(function(){e.add(e.state.data.auto)},1e3)}},{key:"componentWillUnmount",value:function(){return function(){clearInterval(this.auto)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(f.View,{activePanel:this.state.activePanel},r.a.createElement(g,{id:"home",fetchedUser:this.state.fetchedUser,go:this.go}),r.a.createElement(b,{id:"shop",add:this.add,score:this.state.score,go:this.go}),r.a.createElement(v,{id:"default",add:this.add,data:this.state.data,score:this.state.score,go:this.go}),r.a.createElement(S,{id:"settings",add:this.add,score:this.state.score,go:this.go})),r.a.createElement(f.FixedLayout,{vertical:"bottom"},r.a.createElement(f.Tabs,null,r.a.createElement(f.TabsItem,{onClick:function(t){return e.go(t)},"data-to":"default",selected:"default"===this.state.activePanel},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),r.a.createElement(f.TabsItem,{onClick:function(t){return e.go(t)},"data-to":"shop",selected:"shop"===this.state.activePanel},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),r.a.createElement(f.TabsItem,{onClick:function(t){return e.go(t)},"data-to":"settings",selected:"settings"===this.state.activePanel},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))))}}]),t}(r.a.Component);i.a.send("VKWebAppInit",{}),l.a.render(r.a.createElement(P,null),document.getElementById("root"))},61:function(e,t,a){e.exports=a(113)}},[[61,1,2]]]);
//# sourceMappingURL=main.528e0492.chunk.js.map