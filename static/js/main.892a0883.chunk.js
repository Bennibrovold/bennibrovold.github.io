(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);a(63),a(88);var o=a(0),r=a.n(o),c=a(33),n=a.n(c),l=a(19),s=a.n(l),i=a(57),u=a(58),d=a(60),m=a(59),p=a(61),g=a(1),f=(a(110),function(e){var t=e.id,a=e.go,o=e.fetchedUser;return r.a.createElement(g.Panel,{id:t},r.a.createElement(g.PanelHeader,null,"Example"),o&&r.a.createElement(g.Group,{title:"User Data Fetched with VK Connect"},r.a.createElement(g.ListItem,{before:o.photo_200?r.a.createElement(g.Avatar,{src:o.photo_200}):null,description:o.city&&o.city.title?o.city.title:""},"".concat(o.first_name," ").concat(o.last_name))),r.a.createElement(g.Group,{title:"Navigation Example"},r.a.createElement(g.Div,null,r.a.createElement(g.Button,{size:"xl",level:"2",onClick:a,"data-to":"persik"},"Show me the Persik, please"))),r.a.createElement(g.Group,{title:"Navigation Example"},r.a.createElement(g.Div,null,r.a.createElement(g.Button,{size:"xl",level:"2",onClick:a,"data-to":"default"},"Show me the Persik, please"))))}),b=a(34),h=a(16),v=a(18),k=a.n(v),S=(a(111),function(e){var t=Object(o.useState)(JSON.parse(localStorage.getItem("items"))),a=Object(h.a)(t,2),c=a[0],n=a[1],l=Object(o.useState)(JSON.parse(localStorage.getItem("prices"))),s=Object(h.a)(l,2),i=s[0],u=s[1],d=Object(o.useState)(JSON.parse(localStorage.getItem("data"))),m=Object(h.a)(d,2),p=m[0],f=m[1],v=function(e,t){localStorage.setItem("".concat(e),JSON.stringify(t))},S={phone:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",notebook:"\u041d\u043e\u0443\u0442\u0431\u0443\u043a",pc:"\u041a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440",office:"\u041e\u0444\u0438\u0441",farm:"\u0424\u0435\u0440\u043c\u0430",factory:"\u0417\u0430\u0432\u043e\u0434",mine:"\u0428\u0430\u0445\u0442\u0430",skyscrapper:"\u041d\u0435\u0431\u043e\u0441\u043a\u0440\u0451\u0431",island:"\u041e\u0441\u0442\u0440\u043e\u0432",country:"\u0421\u0442\u0440\u0430\u043d\u0430",planet:"\u041f\u043b\u0430\u043d\u0435\u0442\u0430",solarSystem:"\u0421\u043e\u043b\u043d\u0435\u0447\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430",cosmos:"\u041a\u043e\u0441\u043c\u043e\u0441"};return r.a.createElement(g.Panel,{id:e.id},r.a.createElement(g.PanelHeader,{theme:"sekki",left:r.a.createElement(g.HeaderButton,null,r.a.createElement(k.a,{onClick:e.go,"data-to":"default"})," ")},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),r.a.createElement(g.Group,null,r.a.createElement(g.Div,{className:"shop-score"},Math.round(e.score))),Object.keys(c).map(function(t){return r.a.createElement(g.Group,{key:t},r.a.createElement(g.Div,{onClick:function(){return function(t){e.score-i[t].price>=0&&(e.add(-i[t].price),n(Object.assign(c,Object(b.a)({},t,c[t]+1))),u(Object.assign(i,Object(b.a)({},t,Object.assign(i[t],{price:Math.round(1.1*i[t].price)})))),i[t].boost&&f(Object.assign(p,{auto:p.auto+i[t].boost})),i[t].perClick&&f(Object.assign(p,{perClick:p.perClick+i[t].perClick})),v("items",c),v("prices",i),v("data",p))}(t)},className:"shop-item"},r.a.createElement("h4",null,S[t])," ",r.a.createElement("p",null,"\u0426\u0435\u043d\u0430: ",i[t].price," | \u041a\u043e\u043b-\u0432\u043e: ",c[t]," | +",i[t].boost,"/\u0441 | ",i[t].perClick?i[t].perClick+"/ \u0437\u0430 \u043a\u043b\u0438\u043a":null)))}))}),E=(a(112),function(){localStorage.setItem("score",0),localStorage.setItem("items",JSON.stringify({phone:0,notebook:0,pc:0,office:0,farm:0,factory:0,mine:0,skyscrapper:0,island:0,country:0,planet:0,solarSystem:0,cosmos:0})),localStorage.setItem("prices",JSON.stringify({phone:{price:100,boost:2},notebook:{price:500,boost:10,perClick:1},pc:{price:2e3,boost:100},office:{price:1e4,boost:500,perClick:10},farm:{price:5e5,boost:2e3},factory:{price:2e6,boost:1e4,perClick:100},mine:{price:1e7,boost:1e5},skyscrapper:{price:1e8,boost:5e5,perClick:1e3},island:{price:25e7,boost:25e5},country:{price:1e9,boost:5e7,perClick:1e4},planet:{price:5e9,boost:1e8},solarSystem:{price:25e9,boost:5e8,perClick:1e5},cosmos:{price:99999999999,boost:9999999999,perClick:9999999}})),localStorage.setItem("data",JSON.stringify({auto:0,perClick:1})),localStorage.setItem("codes",JSON.stringify([{value:"2019",hashes:1e6,used:!1},{value:"sekki",hashes:1e8,used:!1},{value:"vkapp2019",hashes:1e8,used:!1}]))}),y=function(){var e=[],t=function(e,t){return Math.round(Math.random()*(e-t)+t)};return function(){for(var a=[],o=function(e){for(var t=0;t<a.length;t++)if(e===a[t])return!0;return!1},r=0;r<3;r++){for(var c=t(8,0);o(c);)c=t(8,0);a.push(c)}for(var n=0;n<9;n++)e.push({val:n,clickAble:!!o(n),clicked:!1})}(),e},I=function(){return null!==localStorage.getItem("score")?localStorage.getItem("score"):void 0},O=function(){return null!==localStorage.getItem("items")?localStorage.getItem("items"):void 0},C=function(){return null!==localStorage.getItem("prices")?localStorage.getItem("prices"):void 0},N=function(){return null!==localStorage.getItem("data")?localStorage.getItem("data"):void 0},j=function(){return null!==localStorage.getItem("codes")?localStorage.getItem("codes"):void 0},J=function(e){return"number"===typeof e},w=function(e){return"object"===typeof e},T=function(e){var t=e.data;return r.a.createElement(g.Panel,{id:e.id,theme:"white"},r.a.createElement(g.PanelHeader,null,"\u041a\u043b\u0438\u043a\u0435\u0440(0.0.6)"),r.a.createElement(g.Div,{className:"button-block"},r.a.createElement("button",{stretched:"true",onClick:e.go,"data-to":"shop",style:{marginRight:8}},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),r.a.createElement("button",{stretched:"true",disabled:!0,onClick:e.go,"data-to":"upgrades",style:{marginRight:8}},"\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f"),r.a.createElement("button",{stretched:"true",onClick:e.go,"data-to":"settings"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438")),r.a.createElement(g.Div,null,r.a.createElement(g.Div,{className:"score-container"},r.a.createElement("p",null,Math.round(e.score)," #"),r.a.createElement("p",{className:e.bonusTime>=9?"reward show":"reward"},"+",2*e.lvl*t.perClick),r.a.createElement("p",null,e.lvl,"LVL"),r.a.createElement("p",null,"\u0412 \u0441\u0435\u043a. ",t.auto," | \u0417\u0430 \u043a\u043b\u0438\u043a: ",t.perClick)),r.a.createElement(g.Div,null,r.a.createElement(g.InfoRow,{title:e.bonusTime},r.a.createElement(g.Progress,{value:10*e.bonusTime}))),r.a.createElement(g.Div,{className:"button-container"},Object.keys(e.grid).map(function(t){return r.a.createElement("button",{id:t,key:t,className:!0===e.grid[t].clicked?"button-click green":"button-click",onClick:function(t){return a=t.target.id,!0===e.grid[a].clickAble&&(e.grid[a].clicked=!e.grid[a].clicked),!0!==e.grid[a].clickAble&&e.grid.map(function(e){!0===e.clicked&&(e.clicked=!1)}),!1===e.grid[a].clickAble&&e.setLVL(1),void e.setGrid(e.grid);var a}},!0===e.grid[t].clickAble?"+":null)}))))},G=function(e){var t=Object(o.useState)(""),a=Object(h.a)(t,2),c=a[0],n=a[1],l=function(){var t=function(e){var t=JSON.parse(localStorage.getItem("codes")),a=!1;return t.map(function(o,r){o.value===e&&!1===o.used&&(t[r].used=!0,console.log("here"),localStorage.setItem("codes",JSON.stringify(t)),a=o)}),a}(c).hashes;void 0!==t&&e.add(t)};return r.a.createElement(g.Panel,{id:e.id},r.a.createElement(g.PanelHeader,{theme:"sekki",left:r.a.createElement(g.HeaderButton,null,r.a.createElement(k.a,{onClick:e.go,"data-to":"default"})," ")},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement(g.Group,null,r.a.createElement(g.Div,null,r.a.createElement(g.FormLayoutGroup,{top:"\u041f\u0440\u043e\u043c\u043e-\u043a\u043e\u0434"},r.a.createElement(g.Input,{type:"text",defaultValue:c,onChange:function(e){return n(e.target.value)}}),r.a.createElement(g.Button,{size:"xl",onClick:function(){return l()}},"\u0412\u0432\u0435\u0441\u0442\u0438 \u043f\u0440\u043e\u043c\u043e-\u043a\u043e\u0434"))),r.a.createElement(g.Div,null,r.a.createElement("button",{onClick:function(){return e.reset()}},r.a.createElement("h1",null,"\u0421\u0431\u0440\u043e\u0441")))))};a(113);void 0!==I()&&0!==parseInt(I())&&J(parseInt(I()))||localStorage.setItem("score",0),void 0!==O()&&w(JSON.parse(O()))||localStorage.setItem("items",JSON.stringify({phone:0,notebook:0,pc:0,office:0,farm:0,factory:0,mine:0,skyscrapper:0,island:0,country:0,planet:0,solarSystem:0,cosmos:0})),void 0!==C()&&w(JSON.parse(C()))||localStorage.setItem("prices",JSON.stringify({phone:{price:100,boost:2},notebook:{price:500,boost:10},pc:{price:2e3,boost:100},office:{price:1e4,boost:500},farm:{price:5e5,boost:2e3},factory:{price:2e6,boost:1e4},mine:{price:1e7,boost:1e5},skyscrapper:{price:1e8,boost:5e5},island:{price:25e7,boost:25e5},country:{price:1e9,boost:5e7},planet:{price:5e9,boost:1e8},solarSystem:{price:25e9,boost:5e8},cosmos:{price:99999999999,boost:9999999999}})),void 0!==N()&&w(JSON.parse(N()))||localStorage.setItem("data",JSON.stringify({auto:0,perClick:1})),void 0!==j()&&w(JSON.parse(j()))||localStorage.setItem("codes",JSON.stringify([{value:"2019",hashes:1e6,used:!1},{value:"sekki",hashes:1e8,used:!1},{value:"vkapp2019",hashes:1e8,used:!1}]));var P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).tick=function(){a.auto=setInterval(function(){a.add(a.state.data.auto/a.state.speed),a.state.lvl>=2&&(a.setState({bonusTime:0===a.state.bonusTime?a.state.bonusTime:a.state.bonusTime-1}),0===a.state.bonusTime&&a.setState({lvl:1})),1===a.state.lvl&&a.setState({bonusTime:0})},1e3/a.state.speed)},a.add=function(e){"object"!==typeof score&&(localStorage.setItem("score",a.state.score+e),a.setState({data:JSON.parse(localStorage.getItem("data")),score:a.state.score+e}))},a.setGrid=function(e){var t=0;a.setState({grid:e}),e.map(function(e){!0===e.clickAble&&!0===e.clicked&&(t+=1)}),3===t&&setTimeout(function(){a.reGrid()},200)},a.reGrid=function(){a.setState({grid:y(),lvl:20===a.state.lvl?a.state.lvl:a.state.lvl+1,bonusTime:10}),a.add(2*a.state.lvl*a.state.data.perClick)},a.setLVL=function(e){a.setState({lvl:e})},a.fromScratch=function(){clearInterval(a.auto),E(),a.setState({score:0,data:{auto:0,perClick:1},bonusTime:0,lvl:0}),a.tick()},a.go=function(e){a.setState({activePanel:e.currentTarget.dataset.to})},a.auto=void 0,a.state={activePanel:"default",fetchedUser:null,score:parseInt(localStorage.getItem("score")),data:JSON.parse(localStorage.getItem("data")),timer:!1,speed:1,grid:y(),lvl:1,bonusTime:0},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;s.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data});break;default:console.log(t.detail.type)}}),s.a.send("VKWebAppGetUserInfo",{}),this.tick()}},{key:"componentWillUnmount",value:function(){return function(){clearInterval(this.auto)}}},{key:"render",value:function(){return r.a.createElement(g.View,{activePanel:this.state.activePanel},r.a.createElement(f,{id:"home",fetchedUser:this.state.fetchedUser,go:this.go}),r.a.createElement(S,{id:"shop",add:this.add,score:this.state.score,go:this.go}),r.a.createElement(T,{id:"default",bonusTime:this.state.bonusTime,add:this.add,setLVL:this.setLVL,lvl:this.state.lvl,setGrid:this.setGrid,grid:this.state.grid,data:this.state.data,score:this.state.score,go:this.go}),r.a.createElement(G,{id:"settings",add:this.add,reset:this.fromScratch,score:this.state.score,go:this.go}))}}]),t}(r.a.Component);s.a.send("VKWebAppInit",{}),n.a.render(r.a.createElement(P,null),document.getElementById("root"))},62:function(e,t,a){e.exports=a(114)}},[[62,1,2]]]);
//# sourceMappingURL=main.892a0883.chunk.js.map